<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Matery配置</title>
      <link href="/2022/03/23/hexo-matery/"/>
      <url>/2022/03/23/hexo-matery/</url>
      
        <content type="html"><![CDATA[<h2 id="1-集成utteranc评论插件"><a href="#1-集成utteranc评论插件" class="headerlink" title="1 集成utteranc评论插件"></a>1 集成utteranc评论插件</h2><h3 id="1-1-前置准备"><a href="#1-1-前置准备" class="headerlink" title="1.1 前置准备"></a>1.1 前置准备</h3><p><strong>准备一个代码仓库并配置好 utteranc</strong> </p><h4 id="1-1-1-新建一个github仓库"><a href="#1-1-1-新建一个github仓库" class="headerlink" title="1.1.1 新建一个github仓库"></a>1.1.1 新建一个github仓库</h4><p>首先创建一个公开的<a href="https://github.com/">github</a>仓库，按下图填完信息后Create repository创建</p><h4 id="1-1-2-安装utterances"><a href="#1-1-2-安装utterances" class="headerlink" title="1.1.2 安装utterances"></a>1.1.2 安装utterances</h4><p>安装<a href="https://github.com/apps/utterances">utterances app</a>(点击前往安装)，install(安装)按钮未登陆github时不会显示，已安装则显示的是configure。(为了写这文笔者还特地卸载重装了一遍)</p><p>选择刚刚建好的github仓库，然后点击安装</p><h4 id="1-1-3-配置"><a href="#1-1-3-配置" class="headerlink" title="1.1.3 配置"></a>1.1.3 配置</h4><p>一般默认即可，最后一栏会根据你前面的操作自动生成配置信息(后面会用到)，类似下面这样：</p><p>repo修改成自己的用户名和仓库名</p><pre class=" language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"https://utteranc.es/client.js"</span>        repo<span class="token operator">=</span><span class="token string">"liukgg/comment-utterances"</span>        issue<span class="token operator">-</span>term<span class="token operator">=</span><span class="token string">"pathname"</span>        theme<span class="token operator">=</span><span class="token string">"github-light"</span>        crossorigin<span class="token operator">=</span><span class="token string">"anonymous"</span>        <span class="token keyword">async</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre><h3 id="1-2-正式开始"><a href="#1-2-正式开始" class="headerlink" title="1.2 正式开始"></a>1.2 正式开始</h3><p><strong>前置条件：</strong> hexo搭建的博客、且选择 matery 主题的情况下，集成utteranc 以实现评论功能。</p><h4 id="1-2-1-主要改动"><a href="#1-2-1-主要改动" class="headerlink" title="1.2.1 主要改动"></a>1.2.1 主要改动</h4><p><strong>改动第1个文件： themes/hexo-theme-matery/_config.yml</strong></p><p>加入以下配置，主要目的是和 matery 原来的引入评论插件保持一致，保持灵活性</p><pre class=" language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># utteranc config, default disabled</span><span class="token comment" spellcheck="true"># utteranc 评论模块的配置，默认为不激活</span><span class="token key atrule">utteranc</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code></pre><p><strong>改动第2个文件: themes/hexo-theme-matery/layout/_partial/post-detail.ejs</strong></p><p>加入以下配置(在165行左右，参考其他评论插件的代码位置)：</p><pre class=" language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>utteranc <span class="token operator">&amp;&amp;</span> theme<span class="token punctuation">.</span>utteranc<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> <span class="token operator">%</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/utteranc'</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">%</span><span class="token operator">></span></code></pre><p>该处改动的目的是为了在所有博客文章中统一在底部加入一个评论模块，这个改动很关键、所放位置也很重要。<br>post-detail.ejs 是所有博客文章渲染的模板，因此需要在此处统一改动。</p><p><strong>改动第3个文件：新增一个文件 themes/hexo-theme-matery/layout/_partial/utteranc.ejs</strong></p><p>该文件内容如下：</p><pre class=" language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"card"</span> data<span class="token operator">-</span>aos<span class="token operator">=</span><span class="token string">"fade-up"</span><span class="token operator">></span>    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"utteranc-container"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"card-content"</span><span class="token operator">></span>        <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">"https://utteranc.es/client.js"</span>                repo<span class="token operator">=</span><span class="token string">"liukgg/comment-utterances"</span>                issue<span class="token operator">-</span>term<span class="token operator">=</span><span class="token string">"pathname"</span>                theme<span class="token operator">=</span><span class="token string">"github-light"</span>                crossorigin<span class="token operator">=</span><span class="token string">"anonymous"</span>                <span class="token keyword">async</span><span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span></code></pre><p>该文件就是评论模块的真实内容，核心内容是在前述步骤中复制的 utteranc 配置。<br>此外，外面加了2个div模块，主要是为了在页面展示的时候加入一个方块、和文章风格保持基本一致。<br>（对于这个div里的样式具体是如何生效的，没有做过多探究，基本上是参考另一个评论插件 gitalk 的代码。）</p><h4 id="1-2-2-其他问题"><a href="#1-2-2-其他问题" class="headerlink" title="1.2.2 其他问题"></a>1.2.2 其他问题</h4><p>如果博客中还有单独的一个留言板模块，那么还需要改动一下这个文件： themes/hexo-theme-matery/layout/contact.ejs</p><p>加入以下代码(136行附近)：</p><pre class=" language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>utteranc <span class="token operator">&amp;&amp;</span> theme<span class="token punctuation">.</span>utteranc<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span> <span class="token operator">%</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_partial/utteranc'</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token operator">%</span><span class="token operator">></span></code></pre><h2 id="2-调整归档页面"><a href="#2-调整归档页面" class="headerlink" title="2 调整归档页面"></a>2 调整归档页面</h2><p>建议先备份archive.ejs文件再修改有备无患，养成备份好习惯。</p><pre class=" language-yaml"><code class="language-yaml">&lt;style<span class="token punctuation">></span>    /*归档页自定义样式*/    .archive<span class="token punctuation">-</span>container&amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">padding</span><span class="token punctuation">:</span> 20px;      <span class="token punctuation">-</span><span class="token key atrule">webkit-border-radius</span><span class="token punctuation">:</span> 5px;      <span class="token punctuation">-</span><span class="token key atrule">moz-border-radius</span><span class="token punctuation">:</span> 5px;      <span class="token key atrule">border-radius</span><span class="token punctuation">:</span> 5px;      <span class="token key atrule">background-color</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">#fff;</span>    &amp;<span class="token comment" spellcheck="true">#125;</span>    .archive<span class="token punctuation">:</span>not(<span class="token punctuation">:</span>last<span class="token punctuation">-</span>child) &amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">margin-bottom</span><span class="token punctuation">:</span> 3rem;    &amp;<span class="token comment" spellcheck="true">#125;</span>    .archive .articles &amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">border-left</span><span class="token punctuation">:</span> 1px solid <span class="token comment" spellcheck="true">#dbdbdb;</span>    &amp;<span class="token comment" spellcheck="true">#125;</span>    .archive .article &amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">border-top</span><span class="token punctuation">:</span> none;      <span class="token key atrule">margin-left</span><span class="token punctuation">:</span> <span class="token punctuation">-</span>1px;      <span class="token key atrule">padding</span><span class="token punctuation">:</span> 0.4rem 1.5rem;      <span class="token key atrule">border-left</span><span class="token punctuation">:</span> 3px solid transparent;    &amp;<span class="token comment" spellcheck="true">#125;</span>    .archive .article<span class="token punctuation">:</span>hover &amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">transition</span><span class="token punctuation">:</span> all .6s;      <span class="token punctuation">-</span><span class="token key atrule">webkit-transition</span><span class="token punctuation">:</span> all .6s;      <span class="token punctuation">-</span><span class="token key atrule">o-transition</span><span class="token punctuation">:</span> all .6s;      <span class="token punctuation">-</span><span class="token key atrule">moz-transition</span><span class="token punctuation">:</span> all .6s;      <span class="token key atrule">border-left-color</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">#0f9d58 ;</span>    &amp;<span class="token comment" spellcheck="true">#125;</span>    .archive .article time &amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">font-size</span><span class="token punctuation">:</span> 1rem;      <span class="token key atrule">color</span><span class="token punctuation">:</span> deeppink;      /* color<span class="token punctuation">:</span> darkgray; */    &amp;<span class="token comment" spellcheck="true">#125;</span>    article<span class="token punctuation">-</span>sort<span class="token punctuation">-</span>item_title&amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">display</span><span class="token punctuation">:</span> <span class="token punctuation">-</span>webkit<span class="token punctuation">-</span>box;      <span class="token key atrule">overflow</span><span class="token punctuation">:</span> hidden;      <span class="token key atrule">height</span><span class="token punctuation">:</span> 60px;      <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">#4c4948;</span>      <span class="token key atrule">font-size</span><span class="token punctuation">:</span> .75rem;      <span class="token punctuation">-</span><span class="token key atrule">webkit-transition</span><span class="token punctuation">:</span> all .3s;      <span class="token punctuation">-</span><span class="token key atrule">moz-transition</span><span class="token punctuation">:</span> all .3s;      <span class="token punctuation">-</span><span class="token key atrule">o-transition</span><span class="token punctuation">:</span> all .3s;      <span class="token punctuation">-</span><span class="token key atrule">ms-transition</span><span class="token punctuation">:</span> all .3s;      <span class="token key atrule">transition</span><span class="token punctuation">:</span> all .3s;      <span class="token punctuation">-</span><span class="token key atrule">webkit-line-clamp</span><span class="token punctuation">:</span> 2;      <span class="token punctuation">-</span><span class="token key atrule">webkit-box-orient</span><span class="token punctuation">:</span> vertical;    &amp;<span class="token comment" spellcheck="true">#125;</span>    .archive .article h6 &amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">margin</span><span class="token punctuation">:</span> 0;    &amp;<span class="token comment" spellcheck="true">#125;</span>    .archive .article h6 a &amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">line-height</span><span class="token punctuation">:</span> 2.5;      <span class="token key atrule">color</span><span class="token punctuation">:</span> inherit;      <span class="token key atrule">border-bottom</span><span class="token punctuation">:</span> 1px dashed transparent;    &amp;<span class="token comment" spellcheck="true">#125;</span>    .archive .article h6 a<span class="token punctuation">:</span>hover &amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">border-bottom-color</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">#0f9d58;</span>      <span class="token key atrule">padding-left</span><span class="token punctuation">:</span> 16px;      <span class="token key atrule">transition</span><span class="token punctuation">:</span> all .5s;      <span class="token punctuation">-</span><span class="token key atrule">webkit-transition</span><span class="token punctuation">:</span> all .5s;      <span class="token punctuation">-</span><span class="token key atrule">o-transition</span><span class="token punctuation">:</span> all .5s;      <span class="token punctuation">-</span><span class="token key atrule">moz-transition</span><span class="token punctuation">:</span> all .5s;    &amp;<span class="token comment" spellcheck="true">#125;</span>    .archive .articles .imgcontent&amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">display</span><span class="token punctuation">:</span> inline<span class="token punctuation">-</span>block;      <span class="token key atrule">width</span><span class="token punctuation">:</span> 80px;      <span class="token key atrule">height</span><span class="token punctuation">:</span> 80px;      <span class="token key atrule">overflow</span><span class="token punctuation">:</span> hidden;    &amp;<span class="token comment" spellcheck="true">#125;</span>    .archive .articles .imgcontent .postimg&amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">width</span><span class="token punctuation">:</span> 100%;      <span class="token key atrule">height</span><span class="token punctuation">:</span> 100%;      <span class="token key atrule">object-fit</span><span class="token punctuation">:</span> cover;    &amp;<span class="token comment" spellcheck="true">#125;</span>    .archive .articles .imgcontent .postimg<span class="token punctuation">:</span>hover&amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">transform</span><span class="token punctuation">:</span> scale(1.3);      <span class="token key atrule">transition</span><span class="token punctuation">:</span> all .6s;      <span class="token punctuation">-</span><span class="token key atrule">webkit-transition</span><span class="token punctuation">:</span> all .6s;      <span class="token punctuation">-</span><span class="token key atrule">o-transition</span><span class="token punctuation">:</span> all .6s;      <span class="token punctuation">-</span><span class="token key atrule">moz-transition</span><span class="token punctuation">:</span> all .6s;    &amp;<span class="token comment" spellcheck="true">#125;</span>    .article<span class="token punctuation">-</span>sort<span class="token punctuation">-</span>post&amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">display</span><span class="token punctuation">:</span> inline<span class="token punctuation">-</span>block;      <span class="token key atrule">position</span><span class="token punctuation">:</span> relative;      <span class="token key atrule">top</span><span class="token punctuation">:</span> <span class="token punctuation">-</span>16px;      <span class="token key atrule">left</span><span class="token punctuation">:</span> 10px;    &amp;<span class="token comment" spellcheck="true">#125;</span>    .hbe<span class="token punctuation">-</span>input<span class="token punctuation">-</span>container&amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">width</span><span class="token punctuation">:</span> 80%;      <span class="token key atrule">max-width</span><span class="token punctuation">:</span> 800px;      <span class="token key atrule">position</span><span class="token punctuation">:</span> relative;      <span class="token key atrule">margin</span><span class="token punctuation">:</span> 100px auto;    &amp;<span class="token comment" spellcheck="true">#125;</span>    .hbe<span class="token punctuation">-</span>input<span class="token punctuation">-</span>container  .btn<span class="token punctuation">-</span>decrypt&amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">display</span><span class="token punctuation">:</span> inline<span class="token punctuation">-</span>block;      <span class="token key atrule">vertical-align</span><span class="token punctuation">:</span> top;      <span class="token key atrule">width</span><span class="token punctuation">:</span> 120px;      <span class="token key atrule">height</span><span class="token punctuation">:</span> 32px;      <span class="token key atrule">line-height</span><span class="token punctuation">:</span> 32px;      <span class="token key atrule">font-size</span><span class="token punctuation">:</span> 16px;      <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">#ffffff;</span>      <span class="token key atrule">background-color</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">#3f90ff;</span>      <span class="token key atrule">text-align</span><span class="token punctuation">:</span> center;      <span class="token punctuation">-</span><span class="token key atrule">webkit-border-radius</span><span class="token punctuation">:</span> 3px;      <span class="token punctuation">-</span><span class="token key atrule">moz-border-radius</span><span class="token punctuation">:</span> 3px;      <span class="token key atrule">border-radius</span><span class="token punctuation">:</span> 3px;    &amp;<span class="token comment" spellcheck="true">#125;</span>    .about<span class="token punctuation">-</span>cover &amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">height</span><span class="token punctuation">:</span> 50vh;    &amp;<span class="token comment" spellcheck="true">#125;</span>    .desc<span class="token punctuation">-</span>content&amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">padding</span><span class="token punctuation">:</span> 0 50px;    &amp;<span class="token comment" spellcheck="true">#125;</span>    @media only screen and (max<span class="token punctuation">-</span><span class="token key atrule">width</span><span class="token punctuation">:</span> 601px) &amp;<span class="token comment" spellcheck="true">#123;</span>      .desc<span class="token punctuation">-</span>content &amp;<span class="token comment" spellcheck="true">#123;</span>        <span class="token key atrule">padding</span><span class="token punctuation">:</span> 0 15px;      &amp;<span class="token comment" spellcheck="true">#125;</span>    &amp;<span class="token comment" spellcheck="true">#125;</span>    .v .vlist .vcard &amp;<span class="token comment" spellcheck="true">#123;</span>      <span class="token key atrule">padding-top</span><span class="token punctuation">:</span> 2.5em <span class="token tag">!important;</span>    &amp;<span class="token comment" spellcheck="true">#125;</span> &lt;/style<span class="token punctuation">></span>&lt;%<span class="token punctuation">-</span> partial('_partial/bg<span class="token punctuation">-</span>cover') %<span class="token punctuation">></span>&lt;main class="content"<span class="token punctuation">></span>    &lt;% if (theme.postCalendar) &amp;<span class="token comment" spellcheck="true">#123; %></span>        &lt;%<span class="token punctuation">-</span> partial('_widget/post<span class="token punctuation">-</span>calendar') %<span class="token punctuation">></span>    &lt;% &amp;<span class="token comment" spellcheck="true">#125; %></span>    &lt;div class="container archive<span class="token punctuation">-</span>container "<span class="token punctuation">></span>        &lt;div class="card"<span class="token punctuation">></span>            &lt;div class="card<span class="token punctuation">-</span>content"<span class="token punctuation">></span>                &lt;<span class="token tag">!--</span> 主题 挂件 （中） <span class="token punctuation">-</span><span class="token punctuation">-</span><span class="token punctuation">></span><span class="token scalar string">                &lt;div class="caishendengsd">                          &lt;div class="guguxiansd wenzhangxian">                    &lt;img class="caishenpic gugus" src="/medias/christmas-img/2.png">                  &lt;/div>                              &lt;/div>                &lt;div class="caishendeng">                          &lt;div class="guguxian wenzhangxian">                    &lt;img class="caishenpic gugus" src="/medias/spring-img/2.png">                  &lt;/div>                              &lt;/div>                &lt;div class="tag-chips">                    &lt;span onclick="showTable()" id="sp-table" class="chip center-align waves-effect waves-light default"                          data-tagname="时间列表"                          style="background: linear-gradient(to right, #4cbf30 0%, #0f9d58 100%); color:#fff">时间列表                    &lt;/span>                    &lt;span onclick="showTime()" id="sp-timeline"                          class="chip center-align waves-effect waves-light default"                          data-tagname="时间轴" style="background-color: #F9EBEA;">时间轴                    &lt;/span>                &lt;/div></span>            &lt;/div<span class="token punctuation">></span>        &lt;/div<span class="token punctuation">></span>    &lt;/div<span class="token punctuation">></span>    &lt;div id="cd<span class="token punctuation">-</span>table" class="container archive<span class="token punctuation">-</span>container"<span class="token punctuation">></span>        &lt;div class="card"<span class="token punctuation">></span>            &lt;div class="card<span class="token punctuation">-</span>content"<span class="token punctuation">></span>                &lt;% const groups = &amp;<span class="token comment" spellcheck="true">#123;&amp;#125;;</span>                const years = <span class="token punctuation">[</span><span class="token punctuation">]</span>;                page.posts.each(post =<span class="token punctuation">></span> &amp;<span class="token comment" spellcheck="true">#123;</span>                    const year = post.date.year();                    if (typeof (groups<span class="token punctuation">[</span>year<span class="token punctuation">]</span>) === 'undefined') &amp;<span class="token comment" spellcheck="true">#123;</span>                        groups<span class="token punctuation">[</span>year<span class="token punctuation">]</span> = <span class="token punctuation">[</span><span class="token punctuation">]</span>;                        years.push(year);                    &amp;<span class="token comment" spellcheck="true">#125;</span>                    groups<span class="token punctuation">[</span>year<span class="token punctuation">]</span>.push(post);                &amp;<span class="token comment" spellcheck="true">#125;);</span>                years.sort((a<span class="token punctuation">,</span> b) =<span class="token punctuation">></span> b <span class="token punctuation">-</span> a); %<span class="token punctuation">></span>                &lt;% for (let year of years) &amp;<span class="token comment" spellcheck="true">#123; %></span>                    &lt;div class="archive"<span class="token punctuation">></span>                        &lt;h4 class="archive<span class="token punctuation">-</span>year" id="&lt;%= year %<span class="token punctuation">></span>"<span class="token punctuation">></span>&lt;%= year %<span class="token punctuation">></span>年&lt;/h4<span class="token punctuation">></span>                        &lt;div class="articles"<span class="token punctuation">></span>                            &lt;% for (let post of groups<span class="token punctuation">[</span>year<span class="token punctuation">]</span>.sort((a<span class="token punctuation">,</span> b) =<span class="token punctuation">></span> b.date.diff(a.date))) &amp;<span class="token comment" spellcheck="true">#123; %></span>                                &lt;div class="article content<span class="token punctuation">></span>"<span class="token punctuation">></span>                                &lt;<span class="token tag">!--</span>  &lt;a href="&lt;%= url_for(post.link <span class="token punctuation">?</span> <span class="token key atrule">post.link</span> <span class="token punctuation">:</span> post.path) %<span class="token punctuation">></span>"<span class="token punctuation">></span>                                    &lt;div class="imgcontent"<span class="token punctuation">></span>&lt;img class="postimg" src="&lt;%= post.img %<span class="token punctuation">></span>" alt="&lt;%= post.title %<span class="token punctuation">></span>"<span class="token punctuation">></span>&lt;/div<span class="token punctuation">></span>                                    &lt;/a<span class="token punctuation">></span> <span class="token punctuation">-</span><span class="token punctuation">-</span><span class="token punctuation">></span><span class="token scalar string">                                  &lt;div class="article-sort-post">                                    &lt;div class="article-sort-item_title">                                      &lt;a href="&lt;%= url_for(post.link ? post.link : post.path) %>">                                        &lt;h5>                                          &lt;i class="fa fa-clock" style="font-size: 1rem;cursor: pointer;">&lt;/i>                                          &lt;time class="is-text-small" datetime="&lt;%= date_xml(post.date) %>" itemprop="datePublished" >                                            &lt;%= date(post.date, 'YYYY-MM-D') %>                                           &lt;/time>                                        &lt;/h5>                                        &lt;h6 class="is-6">&lt;a href="&lt;%= url_for(post.link ? post.link : post.path) %>">&lt;%= post.title %>&lt;/a>&lt;/h6>                                      &lt;/a>                                    &lt;/div>                                  &lt;/div></span>                                &lt;/div<span class="token punctuation">></span>                            &lt;% &amp;<span class="token comment" spellcheck="true">#125; %></span>                        &lt;/div<span class="token punctuation">></span>                    &lt;/div<span class="token punctuation">></span>                &lt;% &amp;<span class="token comment" spellcheck="true">#125; %></span>            &lt;/div<span class="token punctuation">></span>        &lt;/div<span class="token punctuation">></span>    &lt;/div<span class="token punctuation">></span>    &lt;%    /**     * hashCode function.     *     * @param str str     * @returns &amp;<span class="token comment" spellcheck="true">#123;number&amp;#125;</span>     */    var hashCode = function (str) &amp;<span class="token comment" spellcheck="true">#123;</span>        if (<span class="token tag">!str</span> &amp;&amp; str.length === 0) &amp;<span class="token comment" spellcheck="true">#123;</span>            return 0;        &amp;<span class="token comment" spellcheck="true">#125;</span>        var hash = 0;        for (var i = 0<span class="token punctuation">,</span> len = str.length; i &lt; len; i++) &amp;<span class="token comment" spellcheck="true">#123;</span>            hash = ((hash &lt;&lt; 5) <span class="token punctuation">-</span> hash) + str.charCodeAt(i);            hash <span class="token punctuation">|</span>= 0;        &amp;<span class="token comment" spellcheck="true">#125;</span>        return hash;    &amp;<span class="token comment" spellcheck="true">#125;;</span>    // init year and month variable.    var year = '1970';    var month = '1970<span class="token punctuation">-</span>01';    // post feature image.    var featureimg = '/medias/featureimages/0.jpg';    var featureImages = theme.featureImages;    <span class="token directive important">%></span>    &lt;div id="cd<span class="token punctuation">-</span>timeline" class="container" style="display<span class="token punctuation">:</span> none"<span class="token punctuation">></span>        &lt;% page.posts.each(function(post) &amp;<span class="token comment" spellcheck="true">#123; %></span>            &lt;div class="cd<span class="token punctuation">-</span>timeline<span class="token punctuation">-</span>block"<span class="token punctuation">></span>                &lt;%<span class="token comment" spellcheck="true"># year. %></span>                &lt;% if (date(post.date<span class="token punctuation">,</span> 'YYYY') <span class="token tag">!=</span> year) &amp;<span class="token comment" spellcheck="true">#123; %></span>                    &lt;% year = date(post.date<span class="token punctuation">,</span> 'YYYY'); %<span class="token punctuation">></span>                    &lt;div class="cd<span class="token punctuation">-</span>timeline<span class="token punctuation">-</span>img year" data<span class="token punctuation">-</span>aos="zoom<span class="token punctuation">-</span>in<span class="token punctuation">-</span>up"<span class="token punctuation">></span>                        &lt;a href="&lt;%<span class="token punctuation">-</span> url_for('/archives/' + year) %<span class="token punctuation">></span>"<span class="token punctuation">></span>&lt;%<span class="token punctuation">-</span> year %<span class="token punctuation">></span>&lt;/a<span class="token punctuation">></span>                    &lt;/div<span class="token punctuation">></span>                &lt;% &amp;<span class="token comment" spellcheck="true">#125; %></span>                &lt;%<span class="token comment" spellcheck="true"># month. %></span>                &lt;% if (date(post.date<span class="token punctuation">,</span> 'YYYY<span class="token punctuation">-</span>MM') <span class="token tag">!=</span> month) &amp;<span class="token comment" spellcheck="true">#123; %></span>                    &lt;%                        month = date(post.date<span class="token punctuation">,</span> 'YYYY<span class="token punctuation">-</span>MM');                        var m = date(post.date<span class="token punctuation">,</span> 'MM')                    <span class="token directive important">%></span>                    &lt;div class="cd<span class="token punctuation">-</span>timeline<span class="token punctuation">-</span>img month" data<span class="token punctuation">-</span>aos="zoom<span class="token punctuation">-</span>in<span class="token punctuation">-</span>up"<span class="token punctuation">></span>                        &lt;a href="&lt;%<span class="token punctuation">-</span> url_for('/archives/' + year + '/' + m) %<span class="token punctuation">></span>"<span class="token punctuation">></span>&lt;%<span class="token punctuation">-</span> m %<span class="token punctuation">></span>&lt;/a<span class="token punctuation">></span>                    &lt;/div<span class="token punctuation">></span>                &lt;% &amp;<span class="token comment" spellcheck="true">#125; %></span>                &lt;%<span class="token comment" spellcheck="true"># every day posts. %></span>                &lt;div class="cd<span class="token punctuation">-</span>timeline<span class="token punctuation">-</span>img day" data<span class="token punctuation">-</span>aos="zoom<span class="token punctuation">-</span>in<span class="token punctuation">-</span>up"<span class="token punctuation">></span>                    &lt;span<span class="token punctuation">></span>&lt;%<span class="token punctuation">-</span> date(post.date<span class="token punctuation">,</span> 'YYYY<span class="token punctuation">-</span>MM<span class="token punctuation">-</span>DD').substring(8<span class="token punctuation">,</span> 10) %<span class="token punctuation">></span>&lt;/span<span class="token punctuation">></span>                &lt;/div<span class="token punctuation">></span>                &lt;article class="cd<span class="token punctuation">-</span>timeline<span class="token punctuation">-</span>content" data<span class="token punctuation">-</span>aos="fade<span class="token punctuation">-</span>up"<span class="token punctuation">></span>                    &lt;div class="article col s12 m6"<span class="token punctuation">></span>                        &lt;div class="card"<span class="token punctuation">></span>                            &lt;a href="&lt;%<span class="token punctuation">-</span> url_for(post.path) %<span class="token punctuation">></span>"<span class="token punctuation">></span>                                &lt;div class="card<span class="token punctuation">-</span>image"<span class="token punctuation">></span>                                    &lt;% if (post.img) &amp;<span class="token comment" spellcheck="true">#123; %></span>                                        &lt;img src="&lt;%= post.img %<span class="token punctuation">></span>" class="responsive<span class="token punctuation">-</span>img" alt="&lt;%<span class="token punctuation">-</span> post.title %<span class="token punctuation">></span>"<span class="token punctuation">></span>                                    &lt;% &amp;<span class="token comment" spellcheck="true">#125; else &amp;#123; %></span>                                        &lt;%                                            var len = featureImages.length;                                            var num = Math.abs(hashCode(post.title) % len);                                            featureimg = featureImages<span class="token punctuation">[</span>num<span class="token punctuation">]</span>;                                        <span class="token directive important">%></span>                                        &lt;img src="&lt;%= featureimg %<span class="token punctuation">></span>" class="responsive<span class="token punctuation">-</span>img" alt="&lt;%<span class="token punctuation">-</span> post.title %<span class="token punctuation">></span>"<span class="token punctuation">></span>                                    &lt;% &amp;<span class="token comment" spellcheck="true">#125; %></span>                                    &lt;span class="card<span class="token punctuation">-</span>title"<span class="token punctuation">></span>&lt;%<span class="token punctuation">-</span> post.title %<span class="token punctuation">></span>&lt;/span<span class="token punctuation">></span>                                &lt;/div<span class="token punctuation">></span>                            &lt;/a<span class="token punctuation">></span>                            &lt;div class="card<span class="token punctuation">-</span>content article<span class="token punctuation">-</span>content"<span class="token punctuation">></span>                                &lt;div class="summary block<span class="token punctuation">-</span>with<span class="token punctuation">-</span>text"<span class="token punctuation">></span>                                    &lt;% if (post.summary &amp;&amp; post.summary.length <span class="token punctuation">></span> 0) &amp;<span class="token comment" spellcheck="true">#123; %></span>                                        &lt;%<span class="token punctuation">-</span> post.summary %<span class="token punctuation">></span>                                    &lt;% &amp;<span class="token comment" spellcheck="true">#125; else &amp;#123; %></span>                                        &lt;%<span class="token punctuation">-</span> strip_html(post.content).substring(0<span class="token punctuation">,</span> 120) %<span class="token punctuation">></span>                                    &lt;% &amp;<span class="token comment" spellcheck="true">#125; %></span>                                &lt;/div<span class="token punctuation">></span>                                &lt;div class="publish<span class="token punctuation">-</span>info"<span class="token punctuation">></span>                                &lt;span class="publish<span class="token punctuation">-</span>date"<span class="token punctuation">></span>                                    &lt;i class="far fa<span class="token punctuation">-</span>clock fa<span class="token punctuation">-</span>fw icon<span class="token punctuation">-</span>date"<span class="token punctuation">></span>&lt;/i<span class="token punctuation">></span>&lt;%= date(post.date<span class="token punctuation">,</span> config.date_format) %<span class="token punctuation">></span>                                &lt;/span<span class="token punctuation">></span>                                    &lt;span class="publish<span class="token punctuation">-</span>author"<span class="token punctuation">></span>                                        &lt;% if (post.categories &amp;&amp; post.categories.length <span class="token punctuation">></span> 0) &amp;<span class="token comment" spellcheck="true">#123; %></span>                                            &lt;i class="fas fa<span class="token punctuation">-</span>bookmark fa<span class="token punctuation">-</span>fw icon<span class="token punctuation">-</span>category"<span class="token punctuation">></span>&lt;/i<span class="token punctuation">></span>                                            &lt;% post.categories.forEach(category =<span class="token punctuation">></span> &amp;<span class="token comment" spellcheck="true">#123; %></span>                                                &lt;a href="&lt;%<span class="token punctuation">-</span> url_for(category.path) %<span class="token punctuation">></span>" class="post<span class="token punctuation">-</span>category"                                                   target="_blank"<span class="token punctuation">></span>                                    &lt;%<span class="token punctuation">-</span> category.name %<span class="token punctuation">></span>                                    &lt;/a<span class="token punctuation">></span>                                            &lt;% &amp;<span class="token comment" spellcheck="true">#125;); %></span>                                        &lt;% &amp;<span class="token comment" spellcheck="true">#125; else if (post.author &amp;&amp; post.author.length > 0) &amp;#123; %></span>                                            &lt;i class="fas fa<span class="token punctuation">-</span>user fa<span class="token punctuation">-</span>fw"<span class="token punctuation">></span>&lt;/i<span class="token punctuation">></span>                                            &lt;%<span class="token punctuation">-</span> post.author %<span class="token punctuation">></span>                                        &lt;% &amp;<span class="token comment" spellcheck="true">#125; else &amp;#123; %></span>                                            &lt;i class="fas fa<span class="token punctuation">-</span>user fa<span class="token punctuation">-</span>fw"<span class="token punctuation">></span>&lt;/i<span class="token punctuation">></span>                                            &lt;%<span class="token punctuation">-</span> config.author %<span class="token punctuation">></span>                                        &lt;% &amp;<span class="token comment" spellcheck="true">#125; %></span>                                    &lt;/span<span class="token punctuation">></span>                                &lt;/div<span class="token punctuation">></span>                            &lt;/div<span class="token punctuation">></span>                            &lt;% if (post.tags &amp;&amp; post.tags.length) &amp;<span class="token comment" spellcheck="true">#123; %></span>                                &lt;div class="card<span class="token punctuation">-</span>action article<span class="token punctuation">-</span>tags"<span class="token punctuation">></span>                                    &lt;% post.tags.forEach(tag =<span class="token punctuation">></span> &amp;<span class="token comment" spellcheck="true">#123; %></span>                                        &lt;a href="&lt;%<span class="token punctuation">-</span> url_for(tag.path) %<span class="token punctuation">></span>"<span class="token punctuation">></span>&lt;span                                                    class="chip bg<span class="token punctuation">-</span>color"<span class="token punctuation">></span>&lt;%= tag.name %<span class="token punctuation">></span>&lt;/span<span class="token punctuation">></span>&lt;/a<span class="token punctuation">></span>                                    &lt;% &amp;<span class="token comment" spellcheck="true">#125;); %></span>                                &lt;/div<span class="token punctuation">></span>                            &lt;% &amp;<span class="token comment" spellcheck="true">#125; %></span>                        &lt;/div<span class="token punctuation">></span>                    &lt;/div<span class="token punctuation">></span>                &lt;/article<span class="token punctuation">></span>            &lt;/div<span class="token punctuation">></span>        &lt;% &amp;<span class="token comment" spellcheck="true">#125;); %></span>    &lt;/div<span class="token punctuation">></span>&lt;/main<span class="token punctuation">></span>&lt;% if (page.total <span class="token punctuation">></span> 1) &amp;<span class="token comment" spellcheck="true">#123; %></span>    &lt;%<span class="token punctuation">-</span> partial('_partial/paging') %<span class="token punctuation">></span>&lt;% &amp;<span class="token comment" spellcheck="true">#125; %></span>&lt;script<span class="token punctuation">></span>    function showTime() &amp;<span class="token comment" spellcheck="true">#123;</span>        $("<span class="token comment" spellcheck="true">#cd-timeline").show();</span>        $("<span class="token comment" spellcheck="true">#cd-table").hide();</span>        $("<span class="token comment" spellcheck="true">#sp-timeline").css('background', 'linear-gradient(to right, #4cbf30 0%, #0f9d58 100%)');</span>        $("<span class="token comment" spellcheck="true">#sp-timeline").css('color', '#fff');</span>        $("<span class="token comment" spellcheck="true">#sp-table").css('background', '#F9EBEA')</span>        $("<span class="token comment" spellcheck="true">#sp-table").css('color', 'rgba(0,0,0,0.6)');</span>    &amp;<span class="token comment" spellcheck="true">#125;</span>    function showTable() &amp;<span class="token comment" spellcheck="true">#123;</span>        $("<span class="token comment" spellcheck="true">#cd-timeline").hide();</span>        $("<span class="token comment" spellcheck="true">#cd-table").show();</span>        $("<span class="token comment" spellcheck="true">#sp-table").css('background', 'linear-gradient(to right, #4cbf30 0%, #0f9d58 100%)');</span>        $("<span class="token comment" spellcheck="true">#sp-table").css('color', '#fff');</span>        $("<span class="token comment" spellcheck="true">#sp-timeline").css('background', '#F9EBEA')</span>        $("<span class="token comment" spellcheck="true">#sp-timeline").css('color', 'rgba(0,0,0,0.6)');</span>    &amp;<span class="token comment" spellcheck="true">#125;</span>&lt;/script<span class="token punctuation">></span></code></pre><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><p><a href="https://liukgg.github.io/2021/08/15/hexo/hexo-zai-matery-zhu-ti-xia-ji-cheng-utteranc-ping-lun-cha-jian">hexo在matery主题下集成utteranc评论插件 | GoodLuck</a></p><p><a href="https://www.jianshu.com/p/785d727810b3">hexo-fluid添加utterances评论功能(详细图文过程) - 简书</a> </p><p><a href="https://hesifan.top/posts/25395.html">hexo-matery调整归档页面</a></p>]]></content>
      
      
      <categories>
          
          <category> 计算机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> matery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2021/09/05/hello-world/"/>
      <url>/2021/09/05/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class=" language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class=" language-bash"><code class="language-bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class=" language-bash"><code class="language-bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class=" language-bash"><code class="language-bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
